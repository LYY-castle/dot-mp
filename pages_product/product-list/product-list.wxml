<page-meta>
  <navigation-bar
    title="{{nbTitle}}"
  />
</page-meta>
<view class="container">
	<van-sticky>
		<van-search value="{{ searchValue }}" use-action-slot bind:change="change"
		bind:search="search" bind:focus="focus" shape="round" placeholder="搜索商品" bind:search="search" background="#eee" clearable="{{false}}" >
			<view slot="action" bind:tap="search" class="searchColor" wx:if="{{historyListShow}}">搜索</view>
		</van-search>
	</van-sticky>
	<view class="goodContent" wx:if="{{productList.length>0}}">
		<view wx:for="{{productList}}" wx:key="goodIdx" class="goodItem" bindtap="gotoDetail" data-option="{{item}}">
			<view class="imgContent">
				<view class="hasNoGoodsOrSaleOut" wx:if="{{item.isOnSale && item.goodsNumber === 0}}">
					已售空
				</view>
				<van-image src="{{item.listPicUrl}}" alt width="100%" height="160px" fit="cover" wx:if="{{item.listPicUrl !== ''}}" />
				<van-image alt width="100%" height="160px" fit="cover" wx:else use-loading-slot />
			</view>
			<view class="textHeight textContent">
				<view class="fz-14 m-b-5">
				<text
				wx:if="{{item.label.length>0}}"
					class="guige guige-label m-r-3 m-b-5"
					wx:for="{{item.label}}"
					wx:for-item="labelItem"
					wx:key="labelIndex">{{labelItem}}</text>
				{{item.name}}</view>
					<view class="minPrice fz-12">
						￥
						<text class="fz-20 bold">{{ item.isPromote? item.promotePrice : item.retailPrice }}</text>
						<text class="originPrice">￥{{ item.marketPrice }}</text>
					</view>
			</view>
		</view>
	</view>
	<van-empty image="{{empty}}" description="暂无数据" wx:if="{{productList.length===0}}"></van-empty>
	<van-divider contentPosition="center" wx:if="{{bottomLineShow}}">更多商品，敬请期待</van-divider>
	<van-loading size="24px" wx:if="{{loadingShow}}" class="loadingItem">加载中...</van-loading>
</view>
