<!--pages/mine/bank-card/bank-card.wxml-->
<view class="container">
<form catchsubmit="formSubmit">
      <van-notice-bar wrapable scrollable="{{false}}" text="户名、手机号、身份证号码请填写银行帐户预留的信息"></van-notice-bar>
      <van-field
        value="{{userInfo.cardOwner}}"
        clearable
        name="cardOwner"
        label="户名"
        placeholder="请输入户名"
      ></van-field>
      <van-field
        value="{{userInfo.cardNo}}"
        clearable
        name="cardNo"
        label="账号"
        placeholder="请输入账号"
        maxlength="{{19}}"
        bind:change="getBank"
      ></van-field>
      <van-field
        value="{{userInfo.bankName}}"
        clearable
        name="bankName"
        label="银行"
        placeholder="请输入银行"
      ></van-field>
      <van-field
      label="开户城市"
      readonly="{{true}}"
      is-link="{{true}}"
      name="openingCity"
      value="{{ openingCity }}"
      placeholder="选择开户城市"
      bindtap="selectAddress"
    />
      <van-field
        value="{{userInfo.phone}}"
        clearable
        name="phone"
        label="手机号"
        type="tel"
        placeholder="请输入手机号"
      ></van-field>
      <van-field
        value="{{userInfo.idNo}}"
        clearable
        name="idNo"
        label="身份证号"
        placeholder="请输入身份证号"
      ></van-field>
      <van-notice-bar
        wrapable
        scrollable="{{false}}"
        color="#1989fa"
        background="#ecf9ff"
        text="点击图片可上传身份证照片，该照片将在发放佣金报税时使用，请上传清晰的照片"
      ></van-notice-bar>
          <view wx:if="{{frontImage!==null}}" class="uploader">
            <van-image
            src="{{frontImage}}"
            width="300px"
            height="200px"
            fit="contain"
          />
          </view>
          <view wx:else class="uploader" bindtap="uploadIdNoImage" data-image="front">
            <view>+</view>
            <view class="c-gray fz-12 m-t-10">上传身份证正面</view>
          </view>
          <view wx:if="{{backImage!==null}}" class="uploader" >
            <van-image
            src="{{backImage}}"
            width="300px"
            height="200px"
            fit="contain"
          />
          </view>
          <view wx:else class="uploader" bindtap="uploadIdNoImage" data-image="back">
            <view>+</view>
            <view class="c-gray fz-12 m-t-10">上传身份证反面</view>
          </view>
      <van-popup show="{{cityShow}}" position="bottom">
        <van-area
        columns-num="2"
        title="请选择地址"
        area-list="{{areaList}}"
        bind:confirm="confirm"
        bind:cancel="cancel"
      />
      </van-popup>
      <van-button round type="info" form-type="submit" block="{{true}}" color="#f9ae08">提交</van-button>
    </form>
</view>
